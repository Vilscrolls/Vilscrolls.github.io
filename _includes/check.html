<script>
(function (win) {
  function ifWebpSupported(cb) {
    var img = new Image();
    img.onload = function () {
      var ret = (img.width > 0) && (img.height > 0);
      cb(ret);
    };
    img.onerror = function () {
      cb(false);
    };
    img.src = "data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA";
  }

  ifWebpSupported(function (isSuppoted) {
    var cls = isSuppoted ? 'webp' : 'no-webp';
    document.querySelector('body').classList.add(cls);
  });
})(this);
</script>